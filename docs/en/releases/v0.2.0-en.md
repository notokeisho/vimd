# v0.2.0 - Dual Parser System

English | [日本語](../../ja/releases/v0.2.0.md)

## Overview

vimd v0.2.0 introduces a dual parser system.
The dev command uses markdown-it by default, while the build command uses pandoc.

## Benchmark

### Environment

- Platform: darwin arm64
- Node.js: v20.19.5
- Iterations: 5 (averaged)

### Results

| File | Lines | markdown-it | pandoc | Speedup |
|------|-------|-------------|--------|---------|
| sample-100.md | 106 | 1.59ms | 52.09ms | 32.7x |
| sample-500.md | 514 | 4.02ms | 96.03ms | 23.9x |
| sample-1000.md | 952 | 5.24ms | 333.72ms | 63.7x |

### Analysis

- markdown-it is 24-64x faster than pandoc
- The difference is more significant with larger files
- 1000-line files: 333ms reduced to 5ms

## New Features

### CLI Options

```bash
# Use pandoc in dev command
vimd dev document.md --pandoc

# Use markdown-it in build command (fast build)
vimd build document.md --fast
```

### Configuration Options

```javascript
// ~/.vimd/config.js
export default {
  devParser: 'markdown-it',   // Default for dev command
  buildParser: 'pandoc',      // Default for build command
}
```

## Technical Details

### Parser Configuration

| Parser | Usage | Features |
|--------|-------|----------|
| markdown-it | dev (default) | Fast, no pandoc required, GFM support |
| pandoc | build (default) | High quality, feature-rich, math support |

### markdown-it Plugins

- highlight.js: Syntax highlighting
- markdown-it-task-lists: Task lists
- markdown-it-strikethrough-alt: Strikethrough

## Backward Compatibility

- Existing configuration files work without changes
- The dev command works without pandoc installed
- The build command still requires pandoc when using pandoc parser
